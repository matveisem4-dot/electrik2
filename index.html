<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Monolith OS</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-black text-green-500 font-mono p-10">
    <div id="output" class="mb-5"></div>
    <input type="text" id="cmd" class="bg-transparent border-b border-green-500 outline-none w-full" placeholder="Введите директиву...">

    <script>
        document.getElementById('cmd').addEventListener('keypress', async (e) => {
            if (e.key === 'Enter') {
                const val = e.target.value;
                e.target.value = "";
                
                // Обращение к ТВОЕМУ движку
                const type = val.includes("нарисуй") ? "image" : (val.includes("видео") ? "video" : "text");
                const res = await fetch(`/api/engine?prompt=${encodeURIComponent(val)}&type=${type}`);
                
                if (type === 'text') {
                    const text = await res.text();
                    document.getElementById('output').innerHTML += `<div>> ${text}</div>`;
                } else {
                    const data = await res.json();
                    document.getElementById('output').innerHTML += `<div><img src="${data.url}" class="w-64 mt-2"></div>`;
                }
            }
        });
    </script>
</body>
</html>
