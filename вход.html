<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–∞—è –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞</title>
    
    <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-database-compat.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <style>
        :root {
            --p-teacher: #5D5FEF; --p-student: #00BA88;
            --bg: #F8FAFC; --white: #FFFFFF; --text: #111827; --text-sec: #6B7280;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Inter', sans-serif; }
        body { background: var(--bg); color: var(--text); overflow-x: hidden; }

        /* –¶–µ–Ω—Ç—Ä–æ–≤–∫–∞ –¥–ª—è –æ–∫–æ–Ω –≤—Ö–æ–¥–∞ */
        .flex-center { display: flex; align-items: center; justify-content: center; min-height: 100vh; padding: 20px; }

        /* –≠–ö–†–ê–ù–´ */
        .screen { display: none; width: 100%; }
        .screen.active { display: block; }

        /* –ö–ê–†–¢–û–ß–ö–ò –í–´–ë–û–†–ê */
        .roles-container { display: flex; gap: 30px; justify-content: center; flex-wrap: wrap; }
        .role-card {
            background: var(--white); border-radius: 35px; padding: 50px; width: 380px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.03); cursor: pointer; text-align: center;
            transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1); border: 1px solid #F1F5F9;
        }
        .role-card:hover { transform: translateY(-15px); border-color: var(--p-teacher); box-shadow: 0 30px 60px rgba(0,0,0,0.08); }

        /* –ü–†–ï–ú–ò–ê–õ–¨–ù–´–ï –§–û–†–ú–´ */
        .auth-window { 
            background: var(--white); padding: 50px; border-radius: 40px; 
            width: 100%; max-width: 480px; margin: 0 auto;
            box-shadow: 0 40px 100px rgba(0,0,0,0.1); 
        }
        .input-group { text-align: left; margin-bottom: 20px; }
        .input-group label { display: block; margin-bottom: 8px; font-weight: 600; font-size: 14px; }
        input {
            width: 100%; padding: 18px; border: 2px solid #F3F4F6; border-radius: 18px;
            font-size: 16px; background: #F9FAFB; transition: 0.3s;
        }
        input:focus { outline: none; border-color: var(--p-teacher); background: #FFF; }

        .btn {
            width: 100%; padding: 18px; border: none; border-radius: 18px;
            font-size: 18px; font-weight: 700; cursor: pointer; color: white; transition: 0.3s;
        }
        .btn-t { background: var(--p-teacher); }
        .btn-s { background: var(--p-student); }

        /* –ö–ê–ë–ò–ù–ï–¢ –£–ß–ò–¢–ï–õ–Ø */
        .dashboard { display: none; height: 100vh; flex-direction: column; }
        .top-bar { 
            background: white; padding: 0 50px; height: 80px; border-bottom: 1px solid #E5E7EB;
            display: flex; align-items: center; justify-content: space-between;
        }
        .nav-tabs { display: flex; gap: 40px; height: 100%; }
        .tab { 
            display: flex; align-items: center; cursor: pointer; font-weight: 600; 
            color: var(--text-sec); border-bottom: 3px solid transparent; height: 100%;
        }
        .tab.active { color: var(--p-teacher); border-bottom-color: var(--p-teacher); }
    </style>
</head>
<body>

    <div class="flex-center">
        
        <div id="scr-roles" class="screen active">
            <h1 style="text-align:center; font-size:42px; margin-bottom:50px;">–ú–æ–π –î–Ω–µ–≤–Ω–∏–∫</h1>
            <div class="roles-container">
                <div class="role-card" onclick="show('scr-t-login')">
                    <div style="font-size:50px; margin-bottom:20px;">üè´</div>
                    <h2>–£—á–∏—Ç–µ–ª—å</h2>
                    <p style="color:var(--text-sec); margin-top:10px;">–í—Ö–æ–¥ –≤ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π –∂—É—Ä–Ω–∞–ª</p>
                </div>
                <div class="role-card" onclick="show('scr-s-login')" style="border-color:transparent;">
                    <div style="font-size:50px; margin-bottom:20px;">üéì</div>
                    <h2>–£—á–µ–Ω–∏–∫</h2>
                    <p style="color:var(--text-sec); margin-top:10px;">–ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ü–µ–Ω–æ–∫ –∏ –î–ó</p>
                </div>
            </div>
        </div>

        <div id="scr-t-login" class="screen">
            <div class="auth-window">
                <h2 style="margin-bottom:10px;">–í—Ö–æ–¥ –¥–ª—è —É—á–∏—Ç–µ–ª—è</h2>
                <div class="input-group">
                    <label>–ü–æ—á—Ç–∞</label>
                    <input type="email" id="t-email-log" placeholder="teacher@school.ru">
                </div>
                <div class="input-group">
                    <label>–ü–∞—Ä–æ–ª—å</label>
                    <input type="password" id="t-pass-log" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                </div>
                <button class="btn btn-t" onclick="authAction('login')">–í–æ–π—Ç–∏</button>
                <p style="margin-top:20px; font-size:14px;">–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <span style="color:var(--p-teacher); cursor:pointer; font-weight:bold;" onclick="show('scr-t-reg')">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</span></p>
                <p style="margin-top:15px; cursor:pointer; color:var(--text-sec);" onclick="show('scr-roles')">‚Üê –ù–∞–∑–∞–¥</p>
            </div>
        </div>

        <div id="scr-t-reg" class="screen">
            <div class="auth-window">
                <h2 style="margin-bottom:10px;">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—á–∏—Ç–µ–ª—è</h2>
                <div class="input-group">
                    <label>Email</label>
                    <input type="email" id="t-email-reg">
                </div>
                <div class="input-group">
                    <label>–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å (–º–∏–Ω. 6 –∑–Ω–∞–∫–æ–≤)</label>
                    <input type="password" id="t-pass-reg">
                </div>
                <div style="display:flex; gap:10px; margin-bottom:20px; text-align:left; font-size:12px; color:var(--text-sec);">
                    <input type="checkbox" id="t-check" style="width:18px; height:18px;">
                    <span>–Ø —Å–æ–≥–ª–∞—Å–µ–Ω —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ì–ò–° "–î–Ω–µ–≤–Ω–∏–∫".</span>
                </div>
                <button class="btn btn-t" onclick="authAction('reg')">–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</button>
                <p style="margin-top:20px; font-size:14px;">–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <span style="color:var(--p-teacher); cursor:pointer; font-weight:bold;" onclick="show('scr-t-login')">–í–æ–π—Ç–∏</span></p>
            </div>
        </div>

        <div id="scr-s-login" class="screen">
            <div class="auth-window" style="border-top: 5px solid var(--p-student);">
                <h2 style="margin-bottom:20px;">–í—Ö–æ–¥ –¥–ª—è —É—á–µ–Ω–∏–∫–∞</h2>
                <div class="input-group">
                    <label>–õ–æ–≥–∏–Ω —É—á–µ–Ω–∏–∫–∞</label>
                    <input type="text" id="s-id-log" placeholder="id-000000">
                </div>
                <div class="input-group">
                    <label>–ü–∞—Ä–æ–ª—å</label>
                    <input type="password" id="s-pass-log" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                </div>
                <button class="btn btn-s" onclick="authAction('login-s')">–û—Ç–∫—Ä—ã—Ç—å –¥–Ω–µ–≤–Ω–∏–∫</button>
                <p style="margin-top:20px; cursor:pointer; color:var(--text-sec);" onclick="show('scr-roles')">‚Üê –ù–∞–∑–∞–¥</p>
            </div>
        </div>

    </div>

    <div id="scr-t-panel" class="dashboard">
        <header class="top-bar">
            <h2 style="color:var(--p-teacher); font-weight:800; letter-spacing:-1px;">–ì–û–°–î–ù–ï–í–ù–ò–ö</h2>
            <div class="nav-tabs">
                <div class="tab active">–ü—Ä–µ–¥–º–µ—Ç—ã</div>
                <div class="tab">–£—á–µ–Ω–∏–∫–∏</div>
                <div class="tab">–ñ—É—Ä–Ω–∞–ª</div>
            </div>
            <button onclick="location.reload()" style="background:#FFF1F1; color:#F87171; border:none; padding:10px 20px; border-radius:12px; font-weight:700; cursor:pointer;">–í—ã—Ö–æ–¥</button>
        </header>
        <main style="padding:50px; background:#F9FAFB; flex:1;">
            <div style="background:white; padding:40px; border-radius:30px; box-shadow:0 10px 30px rgba(0,0,0,0.02);">
                <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É</h1>
                <p style="color:var(--text-sec); margin-top:10px;">–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–µ—Ä—Ö–Ω–µ–µ –º–µ–Ω—é –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∞—à–∏–º–∏ –∫–ª–∞—Å—Å–∞–º–∏ –∏ –æ—Ü–µ–Ω–∫–∞–º–∏.</p>
            </div>
        </main>
    </div>

    <script>
        // FIREBASE CONFIG - –í–°–¢–ê–í–¨ –°–í–û–ò –î–ê–ù–ù–´–ï
        const firebaseConfig = { databaseURL: "https://your-project.firebaseio.com/", authDomain: "your-project.firebaseapp.com" };
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();

        function show(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById('scr-t-panel').style.display = 'none';
            document.querySelector('.flex-center').style.display = 'flex';
            
            const target = document.getElementById(id);
            if(target) target.classList.add('active');
        }

        function openDashboard() {
            document.querySelector('.flex-center').style.display = 'none';
            document.getElementById('scr-t-panel').style.display = 'flex';
        }

        async function authAction(type) {
            try {
                if(type === 'reg') {
                    const email = document.getElementById('t-email-reg').value;
                    const pass = document.getElementById('t-pass-reg').value;
                    if(!document.getElementById('t-check').checked) return alert("–ü—Ä–∏–º–∏—Ç–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ!");
                    await auth.createUserWithEmailAndPassword(email, pass);
                    alert("–ê–∫–∫–∞—É–Ω—Ç —É—á–∏—Ç–µ–ª—è —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω!");
                    openDashboard();
                } 
                else if(type === 'login') {
                    const email = document.getElementById('t-email-log').value;
                    const pass = document.getElementById('t-pass-log').value;
                    await auth.signInWithEmailAndPassword(email, pass);
                    openDashboard();
                }
            } catch (e) {
                alert("–û—à–∏–±–∫–∞: " + e.message);
            }
        }

        // –ê–≤—Ç–æ-–ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ö–æ–¥–∞
        auth.onAuthStateChanged(user => { if(user) openDashboard(); });
    </script>
</body>
</html>
