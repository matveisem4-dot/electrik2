<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Diary Pro</title>
    <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-database-compat.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --p-teacher: #5D5FEF;
            --p-student: #00BA88;
            --bg: #F8FAFC;
            --text-main: #1A1C1E;
            --text-sec: #6C7278;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Inter', sans-serif; }

        body { background: var(--bg); color: var(--text-main); min-height: 100vh; }

        /* –≠–∫—Ä–∞–Ω—ã */
        .page { display: none; min-height: 100vh; width: 100%; padding: 20px; }
        .page.active { display: flex; flex-direction: column; align-items: center; justify-content: center; }

        /* –î–ò–ó–ê–ô–ù –ö–ê–†–¢–û–ß–ï–ö (–ö–ê–ö –ù–ê –°–ö–†–ò–ù–®–û–¢–ê–•) */
        .main-container { text-align: center; max-width: 900px; }
        .cards-grid { display: flex; gap: 24px; margin-top: 40px; }
        
        .card {
            background: white; border-radius: 32px; padding: 48px 32px; width: 340px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.04); cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 2px solid transparent;
        }
        .card:hover { transform: translateY(-12px); box-shadow: 0 20px 60px rgba(0,0,0,0.08); }
        .card.teacher:hover { border-color: var(--p-teacher); }
        .card.student:hover { border-color: var(--p-student); }

        .icon-circle {
            width: 80px; height: 80px; border-radius: 50%; margin: 0 auto 24px;
            display: flex; align-items: center; justify-content: center; font-size: 32px;
        }
        .teacher .icon-circle { background: #EEF0FF; color: var(--p-teacher); }
        .student .icon-circle { background: #E6FFF1; color: var(--p-student); }

        /* –§–û–†–ú–ê –í–•–û–î–ê (–ó–ê–©–ò–©–ï–ù–ù–ê–Ø) */
        .auth-card {
            background: white; padding: 40px; border-radius: 32px; width: 100%;
            max-width: 440px; box-shadow: 0 25px 70px rgba(0,0,0,0.07);
        }
        .input-box { text-align: left; margin-bottom: 20px; }
        .input-box label { display: block; margin-bottom: 8px; font-weight: 600; font-size: 14px; }
        
        input {
            width: 100%; padding: 16px; border: 1.5px solid #E2E8F0; border-radius: 16px;
            font-size: 16px; transition: 0.3s; background: #FDFDFF;
        }
        input:focus { border-color: var(--p-teacher); outline: none; background: #fff; }

        .btn {
            width: 100%; padding: 18px; border: none; border-radius: 16px;
            font-size: 18px; font-weight: 700; cursor: pointer; transition: 0.3s;
        }
        .btn-p { background: var(--p-teacher); color: white; }
        .btn-p:hover { opacity: 0.9; transform: scale(1.02); }

        /* –ü–ê–ù–ï–õ–¨ –£–ß–ò–¢–ï–õ–Ø */
        .teacher-layout { display: none; width: 100%; height: 100vh; flex-direction: column; }
        .header {
            height: 80px; background: white; border-bottom: 1px solid #E2E8F0;
            display: flex; align-items: center; padding: 0 40px; justify-content: space-between;
        }
        .nav { display: flex; gap: 32px; height: 100%; }
        .nav-btn {
            height: 100%; display: flex; align-items: center; cursor: pointer;
            font-weight: 600; color: var(--text-sec); border-bottom: 3px solid transparent;
        }
        .nav-btn.active { color: var(--p-teacher); border-bottom-color: var(--p-teacher); }

    </style>
</head>
<body>

    <div id="page-roles" class="page active">
        <div class="main-container">
            <h1 style="font-size: 40px; font-weight: 800; margin-bottom: 8px;">–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π –î–Ω–µ–≤–Ω–∏–∫</h1>
            <p style="color: var(--text-sec); font-size: 18px;">–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à—É —Ä–æ–ª—å –≤ —Å–∏—Å—Ç–µ–º–µ</p>
            <div class="cards-grid">
                <div class="card student" onclick="showAuth('student')">
                    <div class="icon-circle">üéì</div>
                    <h2 style="margin-bottom: 12px;">–£—á–µ–Ω–∏–∫–∞–º</h2>
                    <p style="color: var(--text-sec); font-size: 14px;">–°–º–æ—Ç—Ä–∏—Ç–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ, –æ—Ü–µ–Ω–∫–∏ –∏ –¥–æ–º–∞—à–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è.</p>
                </div>
                <div class="card teacher" onclick="showAuth('teacher')">
                    <div class="icon-circle">üè´</div>
                    <h2 style="margin-bottom: 12px;">–£—á–∏—Ç–µ–ª—è–º</h2>
                    <p style="color: var(--text-sec); font-size: 14px;">–£–ø—Ä–∞–≤–ª—è–π—Ç–µ –∫–ª–∞—Å—Å–∞–º–∏, —Å—Ç–∞–≤—å—Ç–µ –æ—Ü–µ–Ω–∫–∏ –∏ –≤–µ–¥–∏—Ç–µ –∂—É—Ä–Ω–∞–ª.</p>
                </div>
            </div>
        </div>
    </div>

    <div id="page-auth-teacher" class="page">
        <div class="auth-card" id="login-form">
            <div class="icon-circle" style="background: #EEF0FF; color: var(--p-teacher);">üè´</div>
            <h2 style="margin-bottom: 8px;">–í—Ö–æ–¥ –¥–ª—è —É—á–∏—Ç–µ–ª—è</h2>
            <p style="color: var(--text-sec); margin-bottom: 32px;">–° –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º!</p>
            
            <div class="input-box">
                <label>Email –∞–¥—Ä–µ—Å</label>
                <input type="email" id="t-email" placeholder="name@school.ru">
            </div>
            <div class="input-box">
                <label>–ü–∞—Ä–æ–ª—å</label>
                <input type="password" id="t-pass" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
            </div>
            
            <button class="btn btn-p" onclick="processAuth('login')">–í–æ–π—Ç–∏ –≤ –∫–∞–±–∏–Ω–µ—Ç</button>
            <p style="margin-top: 24px; font-size: 14px;">
                –ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <span style="color:var(--p-teacher); font-weight:700; cursor:pointer;" onclick="toggleAuth(true)">–°–æ–∑–¥–∞—Ç—å</span>
            </p>
            <p style="margin-top: 15px; cursor:pointer; color:var(--text-sec);" onclick="location.reload()">‚Üê –ù–∞–∑–∞–¥</p>
        </div>

        <div class="auth-card" id="reg-form" style="display:none;">
            <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
            <button class="btn btn-p" onclick="processAuth('reg')">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
            <p onclick="toggleAuth(false)">–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? –í–æ–π—Ç–∏</p>
        </div>
    </div>

    <div id="page-teacher-dashboard" class="teacher-layout">
        <div class="header">
            <h2 style="color: var(--p-teacher); font-weight: 800;">SmartDiary</h2>
            <div class="nav">
                <div class="nav-btn active">–ü—Ä–µ–¥–º–µ—Ç—ã</div>
                <div class="nav-btn">–£—á–µ–Ω–∏–∫–∏</div>
                <div class="nav-btn">–ñ—É—Ä–Ω–∞–ª</div>
                <div class="nav-btn">–î–ó</div>
            </div>
            <button onclick="location.reload()" style="background: #FFF0F0; color: #FF4D4D; border: none; padding: 10px 20px; border-radius: 12px; font-weight: 700; cursor: pointer;">–í—ã–π—Ç–∏</button>
        </div>
        <div style="padding: 40px; background: #F8FAFF; flex: 1;">
            <div style="background: white; padding: 32px; border-radius: 24px; box-shadow: 0 4px 20px rgba(0,0,0,0.02);">
                <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∫–∞–±–∏–Ω–µ—Ç —É—á–∏—Ç–µ–ª—è!</h2>
                <p style="color: var(--text-sec); margin-top: 10px;">–ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–æ–∏–º–∏ –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏ –∏ –∫–ª–∞—Å—Å–∞–º–∏.</p>
            </div>
        </div>
    </div>

    <script>
        // --- –ó–ê–©–ò–¢–ê –ò –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø ---
        const firebaseConfig = {
            apiKey: "AIzaSy...", // –ö–ª—é—á API –æ—Ç–∫—Ä—ã—Ç, –Ω–æ –±–µ—Å–ø–æ–ª–µ–∑–µ–Ω –±–µ–∑ Rules –≤ Firebase
            databaseURL: "https://your-diary-db.firebaseio.com/",
            authDomain: "your-diary.firebaseapp.com"
        };
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();

        function showAuth(role) {
            document.getElementById('page-roles').classList.remove('active');
            if(role === 'teacher') document.getElementById('page-auth-teacher').classList.add('active');
        }

        function toggleAuth(showReg) {
            document.getElementById('login-form').style.display = showReg ? 'none' : 'block';
            document.getElementById('reg-form').style.display = showReg ? 'block' : 'none';
        }

        function processAuth(type) {
            const email = document.getElementById('t-email').value;
            const pass = document.getElementById('t-pass').value;

            if(type === 'login') {
                auth.signInWithEmailAndPassword(email, pass)
                    .then(() => openDashboard())
                    .catch(e => alert("–û—à–∏–±–∫–∞ –∑–∞—â–∏—Ç—ã: " + e.message));
            }
        }

        function openDashboard() {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById('page-teacher-dashboard').style.display = 'flex';
        }

        // –ê–≤—Ç–æ-–ª–æ–≥–∏–Ω (–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Å—Å–∏–∏)
        auth.onAuthStateChanged(user => {
            if(user) openDashboard();
        });
    </script>
</body>
</html>
