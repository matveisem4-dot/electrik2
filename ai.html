<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>THE 1234 PROTOCOL | CyberMind Hub</title>
    <style>
        :root { --neon: #007bff; --bg: #0b0e14; --text: #e0e0e0; }
        body { background: var(--bg); color: var(--text); font-family: 'Courier New', monospace; margin: 0; display: flex; height: 100vh; overflow: hidden; }
        
        /* Боковая панель управления */
        nav { width: 300px; background: #151921; border-right: 2px solid var(--neon); padding: 20px; display: flex; flex-direction: column; gap: 10px; }
        h2 { color: var(--neon); font-size: 18px; text-transform: uppercase; letter-spacing: 2px; border-bottom: 1px solid var(--neon); padding-bottom: 10px; }
        
        button { 
            background: transparent; border: 1px solid #3a4454; color: var(--text); 
            padding: 12px; text-align: left; cursor: pointer; transition: 0.3s; border-radius: 4px;
        }
        button:hover { background: rgba(0, 123, 255, 0.1); border-color: var(--neon); box-shadow: 0 0 10px var(--neon); }
        button.active { background: var(--neon); color: white; }

        /* Основная область */
        main { flex: 1; display: flex; flex-direction: column; padding: 20px; position: relative; }
        #console { flex: 1; background: #05070a; border: 1px solid #232936; border-radius: 8px; padding: 20px; overflow-y: auto; font-size: 14px; line-height: 1.6; color: #28a745; }
        
        #input-area { margin-top: 20px; display: flex; gap: 10px; }
        input { flex: 1; background: #151921; border: 1px solid #3a4454; padding: 15px; color: white; border-radius: 5px; outline: none; }
        
        .system-msg { color: #888; font-style: italic; }
        .quantum-msg { color: #ff00ff; }
        .render-msg { color: #00d4ff; }
    </style>
</head>
<body>

<nav>
    <h2>CyberMind Hub</h2>
    <p style="font-size: 10px; color: #555;">SECURITY STATUS: LEVEL 1234</p>
    <button onclick="runQuantum()">[1] AETERNA QUANTUM</button>
    <button onclick="runVoidWalker()">[2] VOID-WALKER 3D</button>
    <button onclick="runSynapse()">[3] SYNAPSE ZERO</button>
    <button onclick="runAI()">[4] CYBERMIND ENGINE</button>
    <div style="margin-top: auto; font-size: 10px; color: #3a4454;">CPU: INTEL i5 DETECTED... STATUS: STABLE</div>
</nav>

<main>
    <div id="console">
        <div class="system-msg">>>> SYSTEM BOOT SUCCESSFUL...</div>
        <div class="system-msg">>>> WAITING FOR COMMANDS...</div>
    </div>
    <div id="input-area">
        <input type="text" id="cmd" placeholder="Введите параметры протокола..." autocomplete="off">
        <button onclick="log('Manual input not linked yet')">EXEC</button>
    </div>
</main>

<script type="module">
    // Импортируем "мозги" для четвертого модуля
    import { pipeline } from 'https://cdn.jsdelivr.net/npm/@xenova/transformers@2.17.1';
    window.pipeline = pipeline;
</script>

<script>
    const consoleDiv = document.getElementById('console');

    function log(text, cls = '') {
        const d = document.createElement('div');
        d.className = cls;
        d.innerHTML = `> ${text}`;
        consoleDiv.appendChild(d);
        consoleDiv.scrollTop = consoleDiv.scrollHeight;
    }

    // --- [1] AETERNA QUANTUM ---
    function runQuantum() {
        log("Инициализация квантового симулятора...", "system-msg");
        const prob = Math.random().toFixed(2);
        log(`Кубит в суперпозиции: α|0⟩ + β|1⟩ (Вероятность 0: ${prob})`, "quantum-msg");
        const res = Math.random() < prob ? 0 : 1;
        setTimeout(() => log(`Коллапс волновой функции! Измеренное состояние: ${res}`, "quantum-msg"), 800);
    }

    // --- [2] VOID-WALKER 3D ---
    function runVoidWalker() {
        log("Запуск 3D Ray-Casting сканера...", "system-msg");
        const dists = [12.4, 8.1, 5.0, 3.2, 5.5, 9.8];
        log(`Окружение: [${dists.join('m, ')}m]`, "render-msg");
        log("Стены обнаружены. Отрисовка кадра завершена.", "render-msg");
    }

    // --- [3] SYNAPSE ZERO ---
    function runSynapse() {
        log("Активация нейронного ядра...", "system-msg");
        const weight1 = Math.random().toFixed(4);
        const weight2 = Math.random().toFixed(4);
        log(`Веса синапсов обновлены: W1=${weight1}, W2=${weight2}`);
        log("Обучение завершено: Ошибка 0.0021", "system-msg");
    }

    // --- [4] CYBERMIND AI ---
    async function runAI() {
        log("ПОПЫТКА ЗАПУСКА ТЯЖЕЛОГО ИИ...", "system-msg");
        log("Загрузка модели в браузер (может занять время)...");
        // Здесь можно вызвать реальную функцию из модуля, если комп потянет
        log("ОШИБКА: Недостаточно памяти для WebGPU. Переход на текстовый симулятор.");
        log("CyberMind: Привет, создатель. Я вижу твой i5 работает на пределе.");
    }

    window.runQuantum = runQuantum;
    window.runVoidWalker = runVoidWalker;
    window.runSynapse = runSynapse;
    window.runAI = runAI;
</script>

</body>
</html>
